<!doctype html><html lang=en><head><meta http-equiv=Content-Type content="text/html" charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><title>Using AWS Rekognition For Facial Recognition</title>
<link rel=stylesheet href="/css/style.min.26927df7b850d605d95ba677b92749d145c40f904918567b340f991c818e6116.css" integrity="sha256-JpJ997hQ1gXZW6Z3uSdJ0UXED5BJGFZ7NA+ZHIGOYRY="><script type=text/javascript src=/js/dark_light_mode.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DH827VXED"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DH827VXED")}</script></head><body class="dark:bg-zinc-900 dark:text-white"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header><div class="flex items-center pb-10 pt-7"><div class="mx-auto sm:mr-8"><a class="py-2 px-4 rounded-full" href=/>Home</a> <a class="bg-sky-200 dark:bg-sky-700 py-2 px-4 rounded-full" href=/blog>Blog</a> <a class="py-2 px-4 rounded-full" href=/projects>Projects</a> <a class="py-2 px-4 rounded-full" href=/about>About</a></div></div></header><div class="fixed right-0 bottom-0 mr-6 mb-6"><div><button onclick=toggleLightDarkMode()><div class="h-1/2 border-2 rounded-full p-3 bg-zinc-900 dark:bg-white"><span class="hidden w-5 dark:block text-zinc-900"><span><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M505.2 324.8l-47.73-68.78 47.75-68.81c7.359-10.62 8.797-24.12 3.844-36.06-4.969-11.94-15.52-20.44-28.22-22.72l-82.39-14.88-14.89-82.41c-2.281-12.72-10.76-23.25-22.69-28.22-11.97-4.936-25.42-3.498-36.12 3.844L256 54.49 187.2 6.709c-10.7-7.3106-24.1-8.748-36.1-3.813-11.92 4.971-20.4 15.5-22.7 28.19l-14.89 82.44L31.15 128.4C18.42 130.7 7.854 139.2 2.9 151.2c-4.951 11.9-3.4996 25.4 3.875 36l47.73 68.78-47.75 68.81c-7.359 10.62-8.795 24.12-3.844 36.06 4.969 11.94 15.52 20.44 28.22 22.72l82.39 14.88 14.89 82.41c2.297 12.72 10.78 23.25 22.7 28.22 11.95 4.906 25.44 3.531 36.09-3.844L256 457.5l68.83 47.78C331.3 509.7 338.8 512 346.3 512c4.906.0 9.859-.9687 14.56-2.906 11.92-4.969 20.4-15.5 22.7-28.19l14.89-82.44 82.37-14.88c12.73-2.281 23.3-10.78 28.25-22.75C514.1 348.9 512.6 335.4 505.2 324.8zm-48.4 14.4-99.61 18-18 99.63L256 399.1l-83.2 57.7-18-99.63-99.61-18L112.9 255.1 55.23 172.8l99.61-18 18-99.63L256 112.9l83.15-57.75 18.02 99.66 99.61 18L399.1 255.1l57.7 84.1zM256 143.1c-61.85.0-111.1 50.14-111.1 111.1.0 61.85 50.15 111.1 111.1 111.1s111.1-50.14 111.1-111.1c0-60.1-49.3-111.1-111.1-111.1zm0 176c-35.28.0-63.99-28.71-63.99-63.99S220.7 192 256 192s63.99 28.71 63.99 63.1-28.69 64-63.99 64z"/></svg>
</span></span><span class="dark:hidden w-5 block text-white"><span><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M421.6 379.9c-.6641.0-1.35.0625-2.049.1953-11.24 2.143-22.37 3.17-33.32 3.17-94.81.0-174.1-77.14-174.1-175.5.0-63.19 33.79-121.3 88.73-152.6 8.467-4.812 6.339-17.66-3.279-19.44-11.2-2.078-29.53-3.746-40.9-3.746C132.3 31.1 32 132.2 32 256c0 123.6 100.1 224 223.8 224 69.04.0 132.1-31.45 173.8-82.93C435.3 389.1 429.1 379.9 421.6 379.9zM255.8 432C158.9 432 80 353 80 256c0-76.32 48.77-141.4 116.7-165.8-21.5 34.8-33.5 75.4-33.5 117.6.0 99.44 65.13 183.9 154.9 212.8-19.6 7.5-40.7 11.4-62.3 11.4z"/></svg></span></span></div></button></div></div><div class="text-center py-7"><div class="flex flex-col space-y-3"><div><dt class=sr-only>Published on</dt><dd class="text-base font-medium leading-6 text-zinc-500"><time datetime="2020-03-11 00:00:00 +0000 UTC">Mar 11, 2020</time></dd></div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-zinc-900 dark:text-zinc-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Using AWS Rekognition For Facial Recognition</h1><p class="text-base leading-6 text-zinc-500">2 min read</p></div><article class="prose dark:prose-invert prose-h1:font-bold max-w-none text-left mx-auto pt-7"><p>Facial recognition is kind of neat, and had been quite widely use as a quick and dirty way of identifying an individual.</p><p>Traditionally to implement Facial recognition we need to:</p><ol><li><p>Identify Faces in an Image</p></li><li><p>Extract features from the face</p></li><li><p>Store the features from step 2 in a database, tagged with a name/index</p></li><li><p>Repeat Step 1 and 2, and compare the new features with all the faces in the database using a classifier then you will get the desired name/index</p></li></ol><p>There&rsquo;re some great libraries that you can use to implement these steps, such as the <a href=https://github.com/ageitgey/face_recognition>&ldquo;face_recognition&rdquo;</a> library by <a href=https://github.com/ageitgey>Adam Geitgey</a>, which does ease the process relatively. However there&rsquo;s still a fair bit of work to setup and deploy, with some accuracy issues.</p><p>Hence, depending on time limitations and the scpoe of your project you might want to opt for a tool like AWS Rekognition which greatly simplifies and abstracts the steps for doing facial recognition for you.</p><p>Just a short note however, AWS rekognition have no GUI available on the AWS web console, hence I&rsquo;ll also provide the steps to setting up AWS programmatic access in this guide.</p><h1 id=step-1---setting-up-aws-programmatic-access>Step 1 - Setting up AWS programmatic access</h1><ol><li><p>Login to AWS management console</p></li><li><p>Click on <strong>Services</strong> > <strong>IAM</strong> (found under the section â€œSecurity, Identity & Compliance).</p><p><img src=images/console-page-rekog-tut.png alt=iam></p></li><li><p>On the sidebar, click on *<em>Users</em>.</p><p><img src=images/users-rekog-tut.png alt=users></p></li><li><p>Click on <strong>Add user</strong>.</p><p><img src=images/add-user-button-rekog-tut.png alt=add-user-button></p></li><li><p>Fill in your desired Username, and <strong>tick Programmatic access</strong> under <strong>Select AWS access type</strong>, proceed by clicking <strong>Next: Permissions</strong></p><p><img src=images/add-user-rekog-tut.png alt=add-user></p></li><li><p>Click <strong>Attach exisitng policies directly</strong> and Search for <strong>AmazonRekognitionFullAccess</strong> and tick the option. You can opt for ticking <strong>AdministratorAccess</strong> if you are using the same user for future projects. Procced by clicking <strong>Next: Tags</strong>.</p><p><img src=images/set-permissions-rekog-tut.png alt=set-permissions></p></li><li><p>Skip the Add tags (optional) page, by clicking <strong>Next: Review</strong>.</p><p><img src=images/skip-page-rekog-tut.png alt=skip-page></p></li><li><p>In the Review page, check your options are selected correctly and complete the process by clicking <strong>Create user</strong></p><p><img src=images/review-rekog-tut.png alt=add-user-button></p></li><li><p>You&rsquo;ll be redirected to a Successful page, copy the <strong>Access key ID</strong> and <strong>Secret Access Key</strong> and paste it somewhere secure.</p><p><img src=images/copy-rekog-tut.png alt=add-user-button></p></li></ol><h2 id=for-windows-users>For Windows Users</h2><p>Paste in your <strong>Access key ID</strong> and <strong>Secret Access Key</strong> into a file called <strong>credentials</strong> located inside the folder</p><pre tabindex=0><code>%USERPROFILE%/.aws
</code></pre><p>Full path:</p><pre tabindex=0><code>%USERPROFILE%/.aws/credentials
</code></pre><p>following the format</p><pre tabindex=0><code>[default]
aws_access_key_id=AKIAIOSFODNN7EXAMPLE
aws_secret_access_key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
</code></pre><h2 id=for-linux-users>For Linux Users</h2><p>Paste in your <strong>Access key ID</strong> and <strong>Secret Access Key</strong> into a file called <strong>credentials</strong> located inside the folder</p><pre tabindex=0><code>~/.aws
</code></pre><p>Full path:</p><pre tabindex=0><code>~/.aws/credentials
</code></pre><p>following the format</p><pre tabindex=0><code>[default]
aws_access_key_id=AKIAIOSFODNN7EXAMPLE
aws_secret_access_key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
</code></pre><h1 id=step-2--setting-up-the-python-script>Step 2 : setting up the python script</h1><ol><li><p>Download the code from this <a href=https://gist.github.com/Jasperabez/3655402640ae8b99946213d525228c59>gist</a></p></li><li><p>import the relevant libraries</p><pre tabindex=0><code>pip install boto3 pillow
</code></pre></li><li><p>point the function add2col (line 41) and check_face (Line 42) to your image path(only one face per image), and type in the person&rsquo;s name replacing &lsquo;PersonNAME&rsquo;</p></li><li><p>run if the console prints back the same name you typed in, everything is working</p></li></ol><h1 id=conclusion>Conclusion</h1><p>To build your own projects just use the add2col and check_face functions as you see fit, what they do is pretty self-explanatory.</p><p>Do note that rekognition doesn&rsquo;t store actually images in it&rsquo;s collections it just store the extracted features and metadata.</p><p>The data we send to Rekognition is a JPEG file but encoded in a binary stream</p></article></div><footer><div class="mt-4 flex flex-col items-center pt-8 pb-6 lg:pt-8 lg:pb-6"><div class="mt-2 flex space-x-4"><a href=https://github.com/Jasperabez><span class="w-6 h-6 block"><span><svg viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a><a href=https://www.linkedin.com/in/jabez-tho-6b49a0184><span class="w-6 h-6 block"><span><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></span></a><a href=mailto:jabeztho@gmail.com><span class="w-6 h-6 block"><span><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M0 128C0 92.65 28.65 64 64 64H448c35.3.0 64 28.65 64 64V384c0 35.3-28.7 64-64 64H64c-35.35.0-64-28.7-64-64V128zm48 0v22.1L220.5 291.7c20.6 17 50.4 17 71 0L464 150.1v-23C464 119.2 456.8 111.1 448 111.1H64C55.16 111.1 48 119.2 48 127.1V128zm0 84.2V384C48 392.8 55.16 4e2 64 4e2H448C456.8 4e2 464 392.8 464 384V212.2L322 328.8c-38.4 31.5-93.6 31.5-132.9.0L48 212.2z"/></svg></span></span></a></div><span class="mt-4 font-light text-xs">Â© 2025 Jabez Tho</span></div></footer></div></div></body></html>